!function a(i,s,c){function u(t,r){if(!s[t]){if(!i[t]){var e="function"==typeof require&&require;if(!r&&e)return e(t,!0);if(f)return f(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var o=s[t]={exports:{}};i[t][0].call(o.exports,function(r){return u(i[t][1][r]||r)},o,o.exports,a,i,s,c)}return s[t].exports}for(var f="function"==typeof require&&require,r=0;r<c.length;r++)u(c[r]);return u}({"/bienseance/apps/cart/static/cart/src/app.es6.js":[function(r,t,e){"use strict";var n=r("./../../../../front/static/src/tools/form.ajax.es6"),o=".cart-item-form",a=".shopping-cart",i=".item-quantity";$(i).length&&($(a).on("change",i,function(r){new n.FormAjax($(r.currentTarget).closest(o),function(r,t){$(a).html(r.template)}),$(r.currentTarget).closest(o).submit()}),$(a).on("click",".remove-product",function(r){$.ajax({method:"POST",url:$(r.currentTarget).data("url"),success:function(r){$(a).html(r.template)},error:function(r){}})}))},{"./../../../../front/static/src/tools/form.ajax.es6":"/bienseance/apps/front/static/src/tools/form.ajax.es6.js"}],"/bienseance/apps/front/static/src/tools/form.ajax.es6.js":[function(r,t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var b=function(r,t){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return function(r,t){var e=[],n=!0,o=!1,a=void 0;try{for(var i,s=r[Symbol.iterator]();!(n=(i=s.next()).done)&&(e.push(i.value),!t||e.length!==t);n=!0);}catch(r){o=!0,a=r}finally{try{!n&&s.return&&s.return()}finally{if(o)throw a}}return e}(r,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n=function(){function n(r,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}return function(r,t,e){return t&&n(r.prototype,t),e&&n(r,e),r}}();var o=e.FormAjax=function(){function y(r,t){var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return function(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}(this,y),this._validForm(r,t)&&(this._form=r,this._onSuccess=t,this._onError=e,this._beforeSend=n,this._addSubmitCall()),this}return n(y,[{key:"_validForm",value:function(r,t){return r.attr("action")?r.attr("method")&&"post"===r.attr("method").toLowerCase()?!(!t||"function"!=typeof t)||(console.error("FormAjax constructor error","=> You must implement an onSuccess callback"),!1):(console.error("FormAjax constructor error",'=> You must set the method attribute to "POST"'),!1):(console.error("FormAjax constructor error","=> You must add this action attribute"),!1)}},{key:"_appendErrors",value:function(d){this._form.find(".form-group").each(function(r,t){var e=$(t),n=e.find("input"),o=e.find("select"),a=e.find("textarea");if(n.length&&"hidden"!==n.attr("type")){var i=n.attr("name"),s=d(""+i);e.append(s)}else if(o.length&&"hidden"!==o.attr("type")){var c=o.attr("name"),u=d(""+c);e.append(u)}else if(a.length&&"hidden"!==a.attr("type")){var f=a.attr("name"),l=d(""+f);e.append(l)}}),this._form.find("#error___all__").attr("class")||this._form.prepend(d("__all__"))}},{key:"_addSubmitCall",value:function(){var e=this;this._form.submit(function(r){r.preventDefault(),e._hideErrors(),$.ajax({method:e._form.attr("method"),url:e._form.attr("action"),data:e._form.serialize(),beforeSend:function(r,t){e._beforeSend&&e._beforeSend(r,t,e)},success:function(r){e._onSuccess(r,e)},error:function(r){var t=JSON.parse(r.responseJSON);e._displayErrors(t),e._onError&&e._onError(r,e)}})})}},{key:"_displayErrors",value:function(r){this._form.find("span.ajax_error").length||this._appendErrors(y.getErrorSpan);var t=this._form.data("prefix");if(!t){var e=!0,n=!1,o=void 0;try{for(var a,i=Object.entries(r)[Symbol.iterator]();!(e=(a=i.next()).done);e=!0){var s=b(a.value,2),c=s[0],u=s[1];$("#div_id_"+c).addClass("has-error")}}catch(r){n=!0,o=r}finally{try{!e&&i.return&&i.return()}finally{if(n)throw o}}}var f=!0,l=!1,d=void 0;try{for(var h,p=Object.entries(r)[Symbol.iterator]();!(f=(h=p.next()).done);f=!0)for(var m=b(h.value,2),_=(c=m[0],u=m[1],0);_<u.length;_++){var v=u[_];$(t?"#error_"+t+"-"+c:"#error_"+c).html(v.message),console.log("#div_id_"+t+"-"+c),$("#div_id_"+t+"-"+c).addClass("has-error")}}catch(r){l=!0,d=r}finally{try{!f&&p.return&&p.return()}finally{if(l)throw d}}}},{key:"_hideErrors",value:function(){this._form.find(".ajax_error").each(function(r,t){$(t).html("")}),this._form.find(".has-error").each(function(r,t){$(t).removeClass("has-error")})}},{key:"clearFields",value:function(){this._form.find(".form-group input").each(function(r,t){var e=$(t);"hidden"!==e.attr("type")&&e.val("")})}}],[{key:"getErrorSpan",value:function(r){return'<span class="ajax_error help-block" id="error_'+r+'"></span>'}}]),y}();e.default=o},{}]},{},["/bienseance/apps/cart/static/cart/src/app.es6.js"]);
//# sourceMappingURL=app.min.js.map
